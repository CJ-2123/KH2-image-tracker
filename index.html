<!DOCTYPE html>
<html>
<head>
  <title>Keyblade Tracker</title>
  <style>
    body {
      background: #111111;
      color: white
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, 100px);
      gap: 10px;
    }
    .grid-item {
      width: 100px;
      height: 100px;
      background-color: transparent;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="options">
    <label for="image-options">Images: </label> 
    <select name="image-options" id="image-options"> 
        <option value="KH2_Keyblades">KH2 Keyblades</option> 
        <option value="KH2R_Keyblades">KH2R Keyblades</option> 
        <option value="KH2_Recipes">KH2 Recipes</option> 
        <option value="KH3_Ingredients">KH3 Ingredients</option> 
    </select>

    <label for="color1-options">Color 1: </label> 
    <select name="color1-options" id="color1-options"> 
        <option value="blue">Blue</option> 
        <option value="gold">Gold</option> 
        <option value="green">Green</option> 
        <option value="orange">Orange</option> 
        <option value="purple">Purple</option> 
        <option value="red">Red</option> 
        <option value="turquoise">Turquoise</option> 
    </select>

    <label for="color2-options">Color 2: </label> 
    <select name="color2-options" id="color2-options"> 
        <option value="blue">Blue</option> 
        <option value="gold">Gold</option> 
        <option value="green">Green</option> 
        <option value="orange">Orange</option> 
        <option value="purple">Purple</option> 
        <option value="red">Red</option> 
        <option value="turquoise">Turquoise</option> 
    </select>

    <button id="start" onclick="submit(document.getElementById('image-options').value, document.getElementById('color1-options').value, document.getElementById('color2-options').value)">Submit</button>
  </div>

  <br>

  <div class="grid"></div>

  <script>

    var color1 = ""
    var color2 = ""
    var colors = ["transparent"];

    function submit(imageSet, selectedColor1, selectedColor2) {
      setImages(imageSet);
      color1 = selectedColor1;
      color2 = selectedColor2;
      colors = [color1, color2, "transparent"];

      console.log(imageSet)
      console.log(color1)
      console.log(color2)
    }

    function cycleColor(item, direction) {
      let current = item.style.backgroundColor || "transparent";
      let index = colors.indexOf(current);

      if (direction === "forward") {
        index = (index + 1) % colors.length;
      } else {
        index = (index - 1 + colors.length) % colors.length;
      }

      item.style.backgroundColor = colors[index];
    }

    function setImages(path) {

    var images = [];

    switch(path) {
      case 'KH2_Keyblades':
        path = "Keyblades";
        total_images = 24;
        break;
      
      case 'KH2_Recipes':
        path = "Recipes";
        total_images = 16;
        break;

      case 'KH3_Ingredients':
        path = "Ingredients";
        total_images = 59;
        break;
      
      case 'KH2R_Keyblades':
        path = "KH2R-Keyblades";
        total_images = 25;
        break;

      default:
        total_images = 24;
    }

    for (let i = 1; i < total_images + 1; i++) {
      images.push(path + '/image' + i + '.png')
    }

    var grid = document.querySelector('.grid');

    images.forEach(function(imageSrc) {
        var image = new Image();
        image.src = imageSrc;

        var gridItem = document.createElement('div');
        gridItem.classList.add('grid-item');
        gridItem.appendChild(image);

        // Click
        gridItem.addEventListener('click', function() {
          cycleColor(this, "forward");
        });

        // Scroll wheel
        gridItem.addEventListener('wheel', function(e) {
          e.preventDefault();
          if (e.deltaY > 0) {
            // scroll down
            cycleColor(this, "backward");
          } else {
            // scroll up
            cycleColor(this, "forward");
          }
        });

      grid.appendChild(gridItem);
    });
    }
    
  </script>
</body>
</html>

